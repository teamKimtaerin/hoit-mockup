1. 유저의 메시지가 자막 애니메이션 수정과 관련된 내용인지, 단순한 정보 요청인지, 간단한 자막 수정 유형(오탈자 수정, 번역 등)인지 판단한다.
단순한 정보 요청이라면 바로 응답한다.
간단한 자막 수정 유형이라면 유저가 제공한 json 파일의 형식에 벗어나지 않는 선에서 수정하고 Json patch 형태로 return 한다.
애니메이션 수정과 관련된 유형이라면 유저가 원하는 애니메이션의 효과가 무엇인지 카테고리를 추출한다.
만약 유저가 원하는 애니메이션의 효과가 명확하지 않다면 어떤 효과를 원하는지 예시 설명을 제공하며 질문한다.
카테고리 추출이 완료되면, Postgre DB에서 해당 카테고리와 가장 적합한 애니메이션 에셋 한 개를 가져온다.
S3에서 해당 애니메이션에 대한 manifest 파일을 읽어온 후 해당 애니메이션 에셋의 기본 구조를 json 형태로 마이그레이션 한다.
파라미터 값을 유저의 메시지를 기반으로 조정한다.
수정된 json patch 형태로 Return 한다.
